<!DOCTYPE html>
<html>
<head>
    <title>Generator kodu QR</title>
    <style>
        body {
            text-align: center;
        }
        #qr-code {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Generator kodu QR</h1>
    <div id="qr-code"></div>
    
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    <script>
        function generateQRCode(qrText) {
            var qrcode = new QRCode(document.getElementById("qr-code"), {
                text: qrText,
                width: 128,
                height: 128
            });
        }

        function fetchQRCode() {
            fetch('https://messages.google.com/web/authentication')
                .then(response => response.text())
                .then(data => {
                    // Tutaj znajdź i wyodrębnij odpowiednią treść ze strony
                    // W przypadku strony Google Messages nie jest to trywialne
                    // Jeśli treść jest w formie obrazka, możesz ją przekonwertować na tekst.
                    var qrText = data; // Tutaj przypisz treść, która zawiera kod QR
                    generateQRCode(qrText);
                })
                .catch(error => {
                    console.error('Błąd podczas pobierania strony:', error);
                });
        }

        // Aktualizuj co 5 sekund
        setInterval(fetchQRCode, 5000);
    </script>
</body>
</html>
